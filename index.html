<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Phaser Color Switcher</title>
    <!-- CORBエラーを回避するために、信頼性の高いcdnjsを使用します -->
    <script src="https://cdnjs.cloudflare.com"></script>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #f0f0f0; }
    </style>
</head>
<body>

<script>
// 1. Phaserが読み込まれているかチェック
if (typeof Phaser === 'undefined') {
    document.body.innerHTML = '<h1>Phaserの読み込みに失敗しました。ネット接続を確認してください。</h1>';
} else {
    const config = {
        type: Phaser.AUTO,
        width: 400,
        height: 400,
        backgroundColor: '#ffffff',
        scene: { create: create }
    };

    const game = new Phaser.Game(config);

    function create() {
        // 四角形を作成（最初は黒）
        let rect = this.add.rectangle(200, 200, 150, 150, 0x000000);
        rect.setInteractive();

        // クリックで色を交互に変える
        rect.on('pointerdown', function() {
            if (rect.fillColor === 0x000000) {
                rect.setFillStyle(0xff0000); // 赤
            } else {
                rect.setFillStyle(0x000000); // 黒
            }
        });

        this.add.text(200, 320, 'Click the Box', { color: '#666', fontSize: '20px' }).setOrigin(0.5);
    }
}
</script>
</body>
</html>
